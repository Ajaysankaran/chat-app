<div class="chat-home-container">
    @if (user) {
    <div class="flex flex-col h-full">
        <div class="user-header">
            <div class="col-span-1">
                <img src="/assets/user.png" class="w-14 h-14" />
            </div>
            <div class="col-span-10 text-md">{{user.firstName}} {{user.lastName}}</div>
        </div>
        <div class="flex flex-1 flex-col border rounded-xl overflow-hidden">
            <div class="flex-1 overflow-y-auto p-1 justify-end flex flex-col">
                <div #messageList class="flex p-1 flex-col-reverse overflow-y-auto scroll-smooth">
                    @for (item of messages(); track $index) {
                    <div [class]="item.isMine ? 'sender-message' : 'receiver-message'">{{item.content}}</div>
                    }
                </div>
            </div>
            <div class="items-end bg-gray-200 p-2 flex">
                <textarea class="w-full resize-none rounded-xl p-2 text-sm" rows="1" (keyup.enter)="sendMessage()" [(ngModel)]="currentMessage"></textarea>
                <button class="p-1 px-2 rounded-full bg-gradient-to-b from-blue-500 to-teal-500 text-white"
                    (click)="sendMessage()">
                    <span class="material-icons text-2xl">arrow_upward</span>
                </button>
            </div>
        </div>
    </div>
    }
</div>